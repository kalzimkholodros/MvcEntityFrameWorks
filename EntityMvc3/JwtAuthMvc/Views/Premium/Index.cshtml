@model JwtAuthMvc.Models.User
@{
    ViewData["Title"] = "Premium Ãœyelik";
}

<div class="premium-container">
    <h2>Premium Ãœyelik SayfasÄ±</h2>
    
    <div class="user-info">
        <p>Mevcut Bakiye: <span class="balance">@Model.Balance.ToString("C2")</span></p>
        <p>Premium Durumu: 
            @if (Model.IsPremium)
            {
                <span class="premium-status active">Aktif</span>
                <p>BitiÅŸ Tarihi: @Model.PremiumEndDate?.ToString("dd/MM/yyyy")</p>
                @if (ViewBag.ActivePremium != null)
                {
                    <p>Kalan GÃ¼n: @ViewBag.ActivePremium.RemainingDays gÃ¼n</p>
                }
            }
            else
            {
                <span class="premium-status inactive">Aktif DeÄŸil</span>
            }
        </p>
    </div>

    <div class="premium-stats">
        <h3>Premium Ãœyelik Ä°statistikleri</h3>
        <p>Toplam Premium Ãœye SayÄ±sÄ±: <strong>@ViewBag.TotalPremiumMembers</strong></p>
        
        @if (ViewBag.RecentPremiumMembers != null && ViewBag.RecentPremiumMembers.Count > 0)
        {
            <h4>Son Premium Ãœyeler</h4>
            <div class="recent-members">
                @foreach (var premium in ViewBag.RecentPremiumMembers)
                {
                    <div class="member-card">
                        <div class="member-info">
                            <span class="member-name">@premium.User.Username</span>
                            <span class="member-date">KatÄ±lÄ±m: @premium.SubscriptionDate.ToString("dd/MM/yyyy")</span>
                        </div>
                    </div>
                }
            </div>
        }
    </div>

    <div class="premium-features">
        <h3>Premium Ãœyelik AvantajlarÄ±</h3>
        <ul>
            <li>âœ¨ Ã–zel iÃ§eriklere eriÅŸim</li>
            <li>ðŸŽ¯ ReklamsÄ±z deneyim</li>
            <li>ðŸš€ Ã–ncelikli destek</li>
            <li>ðŸ’Ž Ã–zel indirimler</li>
        </ul>
    </div>

    <div class="action-buttons">
        @if (!Model.IsPremium)
        {
            <form asp-action="BuyPremium" method="post" class="premium-form">
                <button type="submit" class="btn-premium">Premium Ãœye Ol (99.99â‚º)</button>
            </form>
        }

        <div class="add-balance-section">
            <h3>Bakiye YÃ¼kle</h3>
            <form asp-action="AddBalance" method="post" class="balance-form">
                <input type="number" name="amount" step="0.01" min="10" placeholder="Miktar (â‚º)" required />
                <button type="submit" class="btn-add-balance">Bakiye Ekle</button>
            </form>
        </div>
    </div>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success mt-3">
            @TempData["Success"]
        </div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger mt-3">
            @TempData["Error"]
        </div>
    }
</div> 